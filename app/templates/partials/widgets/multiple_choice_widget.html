{% for option in form[answer.id] %}

  {% set input = {
    "class": "input input--" ~ widget_type ~ " js-focusable",
    "type": widget_type,
    "value": option.data,
    "name": option.name,
    "id": option.id,
    "checked": "checked" if option.selected,
    "data-qa": "has-other-option" if option.other
  } %}

  {% set label = {
    "class": "label label--inline venus",
    "for": option.id
  } %}

  <div class="field__item js-focusable-box">
    <input {{input|xmlattr}}>
    <label {{label|xmlattr}}>
      {{option.label.text}}
      {% if option.description %}
        <br />
        <span class="label__description label__inner pluto">{{option.description|safe}}</span>
      {% endif %}
    </label>

    {% if answer['options'][loop.index0].child_answer_id %}
      {% set child_answer_id = answer['options'][loop.index0].child_answer_id %}
      {% set other_answer = form[child_answer_id] %}

      {% set other_label = {
        "class": "label mercury",
        "for": "other-answer"
      } %}

      {% set other_input = {
        "class": "input js-focusable",
        "type": "text",
        "name": other_answer.name,
        "id": other_answer.id,
        "value": other_answer.data,
        "data-qa": "other-option"
      } %}

      <div class="field__other">
        <label {{other_label|xmlattr}}>{{other_answer.label.text}}</label>
        <input {{other_input|xmlattr}}>
      </div>

    {% endif %}

  </div>

{% endfor %}
